(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{375:function(s,r,a){"use strict";a.r(r);var t=a(42),e=Object(t.a)({},(function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql"}},[s._v("#")]),s._v(" docker安装mysql")]),s._v(" "),a("h2",{attrs:{id:"docker安装mysql-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker安装mysql-2"}},[s._v("#")]),s._v(" docker安装mysql")]),s._v(" "),a("h3",{attrs:{id:"_1、查找镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、查找镜像"}},[s._v("#")]),s._v(" 1、查找镜像")]),s._v(" "),a("blockquote",[a("p",[s._v("OFFICAL是ok的为官方版，其他的都是个人上传到docker仓库的。通过NAME拉取镜像。")])]),s._v(" "),a("p",[a("code",[s._v("docker search mysql")]),a("br"),s._v(" "),a("img",{attrs:{src:"/assets/note/mysql/docker_mysql_01-6d81561865034397b4579cac87d7901f.png",alt:"docker_mysql_01"}})]),s._v(" "),a("h3",{attrs:{id:"_2、拉取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、拉取镜像"}},[s._v("#")]),s._v(" 2、拉取镜像")]),s._v(" "),a("p",[s._v("mysql是NAME"),a("br"),s._v("\n:5.7 是拉取版本"),a("br"),s._v("\n我要安装mysql5.7的官方镜像，所以执行："),a("br"),s._v(" "),a("code",[s._v("docker pull mysql:5.7")])]),s._v(" "),a("h3",{attrs:{id:"_3、查询镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、查询镜像"}},[s._v("#")]),s._v(" 3、查询镜像")]),s._v(" "),a("p",[s._v("查看mysql镜像的IMAGE ID为 7faa3c53e6d6"),a("br"),s._v(" "),a("code",[s._v("docker images")]),a("br"),s._v(" "),a("img",{attrs:{src:"/assets/note/mysql/docker_mysql_02-05a1a0cc0f0f4619ba3bf73cd25249ba.png",alt:"docker_mysql_02"}})]),s._v(" "),a("h3",{attrs:{id:"_4、运行镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、运行镜像"}},[s._v("#")]),s._v(" 4、运行镜像")]),s._v(" "),a("blockquote",[a("p",[s._v("–name：给新创建的容器命名，此处命名为mysql"),a("br"),s._v("\n-e MYSQL_ROOT_PASSWORD=123456：初始化 root 用户的密码。"),a("br"),s._v("\n-p 3306:3306：将容器的 3306 端口映射到主机的 3306 端口。"),a("br"),s._v("\n-d：成功启动容器后输出容器的完整ID，7faa3c53e6d6"),a("br"),s._v("\n最后一个mysql指的是mysql镜像名字,也可以跟imageId，我下面执行的为imageId")])]),s._v(" "),a("p",[a("code",[s._v("sudo docker run --name mysql -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d 7faa3c53e6d6")]),a("br"),s._v(" "),a("img",{attrs:{src:"/assets/note/mysql/docker_mysql_03-5fb1d86caaa4448ba6b279d545977f36.png",alt:"docker_mysql_03"}}),a("br"),s._v("\n运行成功后会提示一个 "),a("strong",[s._v("容器ID")]),s._v("，也可通过"),a("br"),s._v(" "),a("code",[s._v("docker ps -a")])]),s._v(" "),a("blockquote",[a("p",[s._v("-a 查询所有容器"),a("br"),s._v("\n不加参数 查询正在运行的容器")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/assets/note/mysql/docker_mysql_04-c791be4cd1ff4fe0ad5efec06c4b322a.png",alt:"docker_mysql_04"}})]),s._v(" "),a("h3",{attrs:{id:"_5、进入容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、进入容器"}},[s._v("#")]),s._v(" 5、进入容器")]),s._v(" "),a("p",[s._v("进入容器")]),s._v(" "),a("blockquote",[a("p",[s._v("-i: 以交互模式运行容器，通常与 -t 同时使用"),a("br"),s._v("\n -t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用"),a("br"),s._v("\n bash为了不退出当前终端")])]),s._v(" "),a("p",[s._v("这个id可以缩写，在这里原CONTAINER ID为0272149075fd ，我只写0272也是可以的。"),a("br"),s._v(" "),a("code",[s._v("docker exec -it 0272 bash")]),a("br"),s._v("\n进入容器后 ，登录mysql,登录成功，当前mysql版本为5.7.26"),a("br"),s._v(" "),a("code",[s._v("mysql -uroot -p123456")]),a("br"),s._v(" "),a("img",{attrs:{src:"/assets/note/mysql/docker_mysql_05-038f87e738c249039587b29489ff15bf.png",alt:"docker_mysql_05"}})]),s._v(" "),a("h2",{attrs:{id:"快捷创建安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快捷创建安装mysql"}},[s._v("#")]),s._v(" 快捷创建安装Mysql")]),s._v(" "),a("h3",{attrs:{id:"创建挂载目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建挂载目录"}},[s._v("#")]),s._v(" 创建挂载目录")]),s._v(" "),a("p",[a("code",[s._v("mkdir -p /docker/mysql/{conf,data,log}")])]),s._v(" "),a("h3",{attrs:{id:"安装5-7-27版本的mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装5-7-27版本的mysql"}},[s._v("#")]),s._v(" 安装5.7.27版本的mysql")]),s._v(" "),a("p",[a("code",[s._v("sudo docker run -d -p 33061:3306 --restart always -e MYSQL_ROOT_PASSWORD=root --name mysql -v /docker/mysql/conf/mysqld.cnf:/etc/mysql/mysql.conf.d/mysqld.cnf -v /docker/mysql/data:/var/lib/mysql -v /etc/localtime:/etc/localtime:ro -v /etc/timezone:/etc/timezone:ro mysql:5.7.27")])])])}),[],!1,null,null,null);r.default=e.exports}}]);