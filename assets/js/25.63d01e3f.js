(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{381:function(s,r,e){"use strict";e.r(r);var t=e(42),i=Object(t.a)({},(function(){var s=this,r=s.$createElement,e=s._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"redis主从复制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis主从复制"}},[s._v("#")]),s._v(" redis主从复制")]),s._v(" "),e("p",[s._v("系统:ubuntu16.04")]),s._v(" "),e("h2",{attrs:{id:"安装redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装redis"}},[s._v("#")]),s._v(" 安装redis")]),s._v(" "),e("p",[e("code",[s._v("sudo apt-get install redis-server")])]),s._v(" "),e("h2",{attrs:{id:"主redis服务配置如下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主redis服务配置如下"}},[s._v("#")]),s._v(" 主redis服务配置如下")]),s._v(" "),e("p",[s._v("1.修改配置文件,支持远程连接"),e("br"),s._v(" "),e("code",[s._v("sudo vim /et/redis/redis.conf")]),e("br"),s._v("\n注释掉  127.0.0.1   #bind 127.0.0.1，如果不需要远程连接redis则不需要这个操作"),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/1.png",alt:"1.png"}})]),s._v(" "),e("p",[s._v("2.给主redis服务器设置密码，密码为：master"),e("br"),s._v(" "),e("code",[s._v("sudo vim /et/redis/redis.conf")]),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/2.png",alt:"2.png"}})]),s._v(" "),e("p",[s._v("3.修改服务后,重启服务"),e("br"),s._v(" "),e("code",[s._v("service redis-server restart")])]),s._v(" "),e("h2",{attrs:{id:"从redis服务配置如下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从redis服务配置如下"}},[s._v("#")]),s._v(" 从redis服务配置如下")]),s._v(" "),e("p",[s._v("1.修改redis配置文件"),e("br"),s._v(" "),e("code",[s._v("sudo vim /et/redis/redis.conf")])]),s._v(" "),e("p",[s._v("ip为从redis服务器本机ip地址"),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/3.png",alt:"3.png"}})]),s._v(" "),e("p",[s._v("主redis的ip地址和redis服务端口"),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/4.png",alt:"4.png"}})]),s._v(" "),e("p",[s._v("配置主redis服务的连接密码"),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/5.png",alt:"5.png"}})]),s._v(" "),e("p",[s._v("2.修改服务后,重启服务\n"),e("code",[s._v("service redis-server restart")])]),s._v(" "),e("h2",{attrs:{id:"测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),e("p",[s._v("远程登录主redis服务"),e("br"),s._v(" "),e("code",[s._v("redis-cli")]),e("br"),s._v("\n存入一个值"),e("br"),s._v(" "),e("code",[s._v("set visi visigood")]),e("br"),s._v("\n因为有密码"),e("br"),s._v(" "),e("code",[s._v("auto master")]),e("br"),s._v("\n重新存入一个值"),e("br"),s._v(" "),e("code",[s._v("set visi visigood")]),e("br"),s._v("\n获取值"),e("br"),s._v(" "),e("code",[s._v("get visi")]),e("br"),s._v(" "),e("img",{attrs:{src:"/assets/note/redis/ms/6.png",alt:"6.png"}})]),s._v(" "),e("p",[e("img",{attrs:{src:"/assets/note/redis/ms/7.png",alt:"7.png"}})])])}),[],!1,null,null,null);r.default=i.exports}}]);